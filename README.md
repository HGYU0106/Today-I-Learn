# Today-I-Learn

프로젝트 주제: 임대차 계약서의 위험요소(불공정 조항, 환불 불가, 자동 갱신 등)을 분석해주는 인공지능 개발

법률 유형 1개로 정하기
ex) 어떤 종류의 판례와 관련이 있는지를 보여주는 기능이 더 좋을 거 같다. -> 임대차 계약서

github 아이디 만들어오기 
역할 데이터 수집, 모델 개발, 프론트, 백앤드

데이터 수집은 다같이 하고 모델 개발은 조장, 프론트나 백인드를 1 : 3 으로 나눠서 개발

어떻게 구현할 것인지?
ex) 실제로 gpt한테 물어봐서 돌리면 어떻게 결과가 출력되는지?  -> 공공기관 (국토교통부)의 표준 임대차 계약서를 참고해 간단한 샘플을 가져옴 

첫 번째, (임대차 계약서 PDF 파일을 보내면서) 임대차 계약서 내용을 분석하여 주요 조항을 요약하고, 위험 요소(예: 자동 갱신 조항, 보증금 반환 문제 등)가 있다면 알려줘

1. 주요 조항 요약
   계약 당사자, 권리금 지급 조건, 임차인의 의무, 임대차 계약과의 관계, 계약 해제 및 손해배상, 특약사항
2. 위험 요소 분석
  자동 갠신 조항 없음, 보증금 반환 문제, 임대인의 계약 거절 및 무리한 조건 변경, 경업금지 조항
3. 개산 및 추가하면 좋은 점
  보증금 반환 관련 보호 조항 추가, 임대인의 계약 거절 사유 명확화, 임대료 인상 제한 조항 추가, 경업금지 조항 검토 및 필요 시 삭제

두 번째, (사진을 스크린샷 찍어서) 임대차 계약서인데 조심해야할 사항이 있을까?
1. 잔금 지급 전 계약이 불발될 경우
   위험 요소 : ...

2. 임차인의 협력 의무 조항
   위험요소 : ...
3. 재산적 가치 이전 관련 조항
   위험한 문장을 보여주고 그와 관련된 위험요소 제시
4. 안전한 계약을 위한 보완 방법 제시
 임대차계약이 확정된 후에만 권리금을 지급하도록 명확히 규정
 임대인의 협력 의무도 추가하여 임차인에게 일방적으로 책임이 돌아가지 않도록 조정
 이전 대상 목록을 구체적으로 명시하고, 계약서에 포함된 첨부 문서를 확인
 신규임차인이 계약을 파기할 경우 기존 임차인의 책임을 면제하는 조항 추가

법대 교수님께 자문 리스트
1. 임대차 계약서에서 가장 중요한 조항은 무엇인가요?
2. 일반적으로 자주 발생하는 위험 요소(자동 갱신, 보증금 반환 문제 등)은 무엇인가요?
3. 임대차 계약서에서 위법하거나 불공정한 조항을 판단하는 기준을 무엇으로 할지?
4. AI 분석 결과를 법적으로 '참고 의견'을 표시하면 문제가 없을 지?
5. 우리가 개발할 프로젝트가 제공하는 결과가 법률적 책임을 발생시키지 않을 지?
결론 : 법률적인 문제를 최소화하면서도 실용적으로 활용할 수 있는 방안은 무엇일까?


4월 13일 일요일
데이터베이스를 어떻게 만들지?
ERWin 같은 옛날 거 말고 새로운 거?

서류 이미지에서 글자 추출하고, 분석한 것만 딱 저장해두면 데이터베이스 없이도 캐시에 저장해도 될 거 같다.
하지만 이미지를 추가하면 동시 사용자가 많을 경우에 서버 캐시 메모리가 모자랄 수 도 있다.
그걸 보안한 방법이
1. 로그인 구현 후 데이터 서버에 저장 (백앤드 위주)
2. 프론트단에서 클라이언트 PC에 이미지 캐싱

프론트앤드 ↓ 이 블로그 보고 따라해보기 O(github랑 react 연동했음) 
https://velog.io/@a_in/React-Github

리액트 기초: 블로그 프로젝트 만들기 1~7
https://www.youtube.com/watch?v=LclObYwGj90&list=PLfLgtT94nNq1e6tr4sm2eH6ZZC2jcqGOy

Web-app의 장점: 모바일앱으로 발행이 쉬움
앱처럼 뛰어난 UX
그냥 웹사이트보다 비즈니스적 강점

자바스크립트 - 웹 브라우저에서 동적인 동작을 구현하기 위한 프로그래밍 언어

프론트 개발의 메인 페이지 - App.js

코드짠걸 미리보기 띄우기: terminal -> npm start

nodejs를 설치한 이유: nodejs를 설치하면 npm이라는 툴 이용가능/ creat-react-app 라이브러리 때문에

App.js는 메인페이지에 들어갈 HTML을 짜는 곳

실제 메인 페이지는 public -> index.html

App.js에 입력한 걸 index.html에 저장되게 설정되어있음
(그 저장되게 하는 설정이 index.js가 함)

node_modules: 라이브러리 모은 폴던
public: static(정적인) 파일 보관함
src: 소스코드 보관함, 실질적 코딩하는 곳
package.json: 설치한 라이브러리 목록 (건들필요 없음)

태그에 class를 주고싶으면? <div className="클래스명">
리액트가 쌩HTML코딩보다 편리한 이유: 데이터 바인딩이 되게 쉬움 
(데이터 바인딩이란? 데이터를 HTML에 꽂아넣는 것)
데이터바인딩이 쉬워지는 React, Vue, Angular  {변수명, 함수 등}
JSX에서 style 속성 집어넣을 때 style = {object 자료형으로 만든 스타일} 

{useState} 상단에 첨부, 리액트의 데이터 저장공간 state 만드는 법
state = 변수 대신 쓰는 데이터 저장공간, usestate()를 이용해 만들어야 함
ex)  let [글제목, 글제목변경] = useState('남자 코트 추천');
state에 데이터 저장해놓는 이유: 웹이 App처럼 동작하게 만들고 싶어서 
state는 변경되면 HTML이 자동으로 재렌더링이 된다. = HTML이 새로고침 없이도 스무스하게 변경

자주 바뀌는 중요한 데이터는 변수 말고 state로 저장

터미널에 뜨는 warning - eslint

UI 버튼 만들기
onClick={()=>{실행할 내용}}
[state, stae변경함수]

수정된[데이터]를 만든다. state를 deep copy해서 수정
리액트 원칙 : immutable data 

<Array, Object state 데이터 수정 방법> - 일단 변경함수 사용
변경함수(대체할 데이터)
1. 기존 state 카피본 만들고 2. 카피본에 수정사항 반영 후 3. 변경함수()에 집어넣기

HTML을한 단어로 줄여서 쓸 수 있는 문법: 리액트의 Component 문법
Component 유의사항 1. 이름은 대괄호 2. return()안에 있는건 태그하나로 묶어야함

------------------------------------------------------------------------------------------------
캐시란? 자주 쓰는 데이터를 임시로 빠르게 저장해두는 공간
캐시 사용 예시
사용자가 결과를 보고 "뒤로 가기" 눌렀다가
다시 "결과 보기" 눌렀는데 서버에 또 분석 요청하면 시간 낭비 + 자원 낭비
이럴 때, 결과를 캐시에 저장해두면
서버에 다시 요청하지 않아도 빠르게 이전 결과를 보여줄 수 있음

<데이터베이스 어떻게 활용할 지?>
1. pdf 이미지에서 글자 추출 후 분석한 것만 딱 저장해두기 (데이터베이스 없이 캐시 저장)
2. 여러 이미지 추가 + 동시 접속자 증가시 서버 캐시 메모리의 문제
3. 개선 방법: 로그인 구현 후 데이터 서버에 저장 (백앤드) / 클라이언트 PC에 이미지 캐싱 (프론트)
:1번 방안
Firebase Authentication(로그인 구현)
- Google, Github, Email 로그인 제공
- 인증 토큰(JWT) 발급 -> FastAPI에서 검증 가능
Firebase + Firestore  인증(Firebase) + 저장방식(NoSQL) + 간편하고 빠른 MVP(최소 기능 제품) 개발
Firebase + FastAPI + PostgreSQL 인증(Firebase+JWT) + 저장방식(관계형 DB 직접 구성)
JWT란? JSON Web Token의 약자, 사용자 인증 정보를 안전하게 주고받기 위한 토큰
로그인에 성공함녀 서버가 인증완료라는 증표를 하나 만들어주는데, 그걸 JWT라는 토큰 형태로 만들어서 클라이언트에 보내주는 것
Firebase란? Google에서 만든 백앤드 서비스 플랫폼
          기능	                                  설명
  Authentication (인증)	Google, Kakao, GitHub, 이메일 등으로 로그인 기능 만들기
  Firestore / Realtime DB	NoSQL 데이터베이스 (JSON처럼 저장)
  Storage	이미지, PDF 파일 업로드 가능
  Cloud Functions	백엔드 코드 없이 서버 기능 만들기 (ex. 자동 분석 함수)
  Hosting	웹사이트 배포 (React 웹 바로 배포 가능)

:2번 방안
클라이언트 PC 캐싱이란? PDF를 브라우저에 임시 저장해서 다시 분석하거나 다시 불러오는 시간을 줄이는 방식 
IndexedDB / 브라우저 내에 파일, 이미지까지 저장 가능 / 이미지, PDF 저장 등 대용량
localStorage / 문자열로 최대 5MB 저장 가능 / 단순 분석 결과 저장

장점
분석 결과를 빠르게 보여줄 수 있음, 개인 정보가 서버에 저장되지 않음, 로그인 없이도 지난 계약서 다시 확인 가능

단점
브라우저에 5~100MB 정도 제한, 사용자 PC에 민감한 정보 저장은 노출 위험이 있음, 브라우저마다 API 살짝 달라 호환성 문제가 발생할 수 있음, localStorage나 캐시 지우면 데이터도 같이 삭제

4. 개인별 로그 기록 저장, 사업화 시 개인, 단체별 플랜 책정 등 확장성 강화?

로그인 기능 + 서버 DB에 저장
장점
- 사용자별 파일과 분석 결과를 안전하게 관리 가능
- 서버 재시작/캐시 만료와 관계없이 지속성 확보
- 접속 이력, 분석 이력, 사용자별 맞춤 서비스 제공 가능

단점
- 로그인 기능 구현 필요
- 보안 고려사항 증가 (인증, 권한, 개인정보보호 등)
- 사용자 관리를 위한 추가 개발 필요(회원가입, 비밀번호 암호화 등)

클라이언트 PC 캐시 저장
장점
- 서버 저장소 부담 없이 빠르게 분석 결과 저장 가능
- 로그인 없이 개인 로컬 저장소에 분석 결과 유지 가능
- 구현이 간단하고 성능이 좋음 (특히 단건 기반 분석 시)

단점
- 브라우저를 바꾸거나 캐시 삭제 시 데이터 손실
- 보안 취약: 클라이언트에 민감한 정보 저장은 위험할 수 있음
- 다량 데이터 저장에는 한계(용량 제한)

***데이터베이스를 왜 써야하는 가?
데이터를 저장하지 않는 경우
- 사용자가 단순히 계약서 분석 결과만 받고 끝나는 구조
- 분석 결과가 매번 다르지 않고 실시간성만 중요할 때
- 개인정보 보호, 법적 리스크를 줄이고 싶을 때

동작
1. 사용자가 PDF 업로드
2. 서버가 즉시 분석 -> 결과만 응답
3. 분석 후 파일/결과 모두 삭제
4. 원하면 결과만 다운로드(PDF, JSON)

장단점
1. DB없이 개발 단순화, 개인정보 저장 안해서 보안/법적 부담 감소, 인프라 비용 줄어듦
2. 다시보기 불가능, 분석 이력 장기적 데이터 활용 불가

데이터를 저장하는 경우
1. 사용자가 로그인하고 분석 이력 관리를 원할 때
2. 향후 통계, 추천 기능, AI 학습 등에 활용
3. "지난 계약서 다시 보기", "AI가 패턴을 분석하여 맞춤형 판례 추천", "분석 이력 PDF 자동 백업"

[사용자 업로드 PDF] -> [FastAPI 백앤드] OCR + NLP 분석, 판례 매칭 -> [결과 반환] 프론트에 표
